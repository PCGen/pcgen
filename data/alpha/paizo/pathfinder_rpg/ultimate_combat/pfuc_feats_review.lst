# TODO: PREABILITY: DR?  Qwep?
#Bolstered Resilience
#	SOURCEPAGE:p.90
#	DESC:You can dramatically increase your damage reduction in exchange for its temporary loss.
#	PRETEXT:Damage reduction
#	PREDR:1,ANY=1
#	BENEFIT:As an immediate action, you can double your DR against a single attack, to a maximum of DR 20. The type of the DR remains unchanged. If the attack you are guarding against is not successful, the increased damage reduction persists until you are hit with an attack or until the start of your next turn, whichever happens first. At the start of your next turn, you become fatigued. You cannot use this feat while you are fatigued.

# This now does not work for other classes that have a similar Bane ability
# The Bane ~ Inquisitor ability should probably have a type anyway, so it can be archetyped
Branded for Retribution
	DESC:You brand an enemy with your bane weapon, making it more vulnerable to your allies' attacks.
	PREABILITY:1,CATEGORY=Special Ability,Bane ~ Inquisitor
	BENEFIT:As a standard action, expend 3 rounds of your bane class feature and make a melee touch attack with the weapon affected by bane. If you hit, your target takes no damage but is branded until the start of your next turn. While this brand remains, your allies' weapons are considered to have the bane ability with which your weapon is imbued when they attack the branded creature.


#Channeled Revival
#	SOURCEPAGE:p.92
#	TYPE:General
#	DESC:You can expend a large portion of your channeling power to reverse death itself.
#	PREABILITY:1,CATEGORY=Special Ability,Channel Positive Energy
#	PREMULT:1,[PREVARGTEQ:OracleChannelDice,6],[PREVARGTEQ:ClericChannelPositiveEnergyDice,6],[PREVARGTEQ:PaladinChannelDice,6]
#	BENEFIT:As a full-round action that provokes attacks of opportunity, you can expend three uses of your channel energy class feature to restore a dead creature to life as if you had cast the breath of life spell (Core Rulebook 251).

# http://paizo.com/paizo/faq/v5748nruor1g1#v5748eaic9okt
# "...change the Prerequisite entry "Inquisitori channel energy class feature" to "channel energy class feature, inquisitor level 1st."
# The feat is for inquisitors that multiclass with a class that does have that class feature.
# So this should count as cleric levels. Bonus to ClericChannelEnergyLVL?
Channeling Scourge
	SOURCEPAGE:p.92
	TYPE:General
	DESC:Your zeal for hunting your faith's enemies empowers your ability to channel divine energy, as long as you channel that energy for harm.
	PREABILITY:1,CATEGORY=Special Ability,Channel Energy
	PRECLASS:1,Inquisitor=1
	BONUS:VAR|ClericChannelEnergyLVL|classlevel("Inquisitor")
	BENEFIT:When you use channel energy to deal damage, your inquisitor levels count as cleric levels for determining the number of damage dice and the saving throw DC.

# FIXME: Depend on flowing monk level 12. This is done by the elusive target class feature, but it's not concise.
Elusive Redirection
	SOURCEPAGE:p.100
	TYPE:General
	DESC:You can redirect an attack back at your assailant or into an adjacent enemy.
	PREABILITY:1,CATEGORY=Special Ability,Elusive Target
	PREFEAT:2,Combat Expertise,Improved Unarmed Strike
	PRECLASS:1,Monk=12
	BENEFIT:When you successfully use your elusive target class feature to avoid taking damage, you can spend an immediate action and an additional point from your ki pool to redirect that attack back at your attacker or toward any other opponent adjacent to you and your attacker. This attack uses the same attack roll as the original attack, but it targets the opponent you choose.

#TODO - XXX - How to be "Skilled Driver with"
Expert Driver
	SOURCEPAGE:p.100
	TYPE:General
	DESC:When driving a chosen type of vehicle, you exhibit incredible control, maneuvering the vehicle with greater ease and stopping with uncanny precision.
	PRETEXT:Skilled Driver with the selected vehicle type
	BENEFIT:You can make an accelerate, decelerate, or turn action as a move action instead of a standard action. Furthermore, when stopping a vehicle, you subtract 10 feet from the roll to determine how many feet the vehicle moves forward before it stops.

# TODO: Weapon Focus with selected weapon
False Opening
	SOURCEPAGE:p.100
	TYPE:Combat
	DESC:When you make a ranged attack while threatened, you can fool your opponent into thinking he has an opening.
	PRESTAT:1,DEX=13
	PREFEAT:2,Dodge,Weapon Focus (TYPE=Ranged)
	PREFEAT:1,Close Quarters Thrower,Point-Blank Master
	CHOOSE:WEAPONPROFICIENCY|TYPE=Ranged,PC,FEAT=Weapon Focus
	BENEFIT:Choose a ranged weapon or a thrown weapon. When you make a ranged attack using that weapon, you can choose to provoke an attack of opportunity from one or more opponents who threaten you. You gain a +4 dodge bonus against such attacks. An opponent that makes such an attack and misses you loses his Dexterity bonus to AC against you until the end of your turn.
	MULT:YES
	STACK:NO

# TODO: Check the chooser to see if it works
Feral Combat Training
	SOURCEPAGE:p.101
	TYPE:Combat
	DESC:You were taught a style of martial arts that relies on the natural weapons from your racial ability or class feature.
	PREFEAT:2,Improved Unarmed Strike,Weapon Focus (TYPE=Natural)
	CHOOSE:WEAPONPROFICIENCY|TYPE=Natural,PC,FEAT=Weapon Focus
	BENEFIT:Choose one of your natural weapons. While using the selected natural weapon, you can apply the effects of feats that have Improved Unarmed Strike as a prerequisite, as well as effects that augment an unarmed strike. &nl; [Special]If you are a monk, you can use the selected natural weapon with your flurry of blows class feature.
	MULT:YES
	STACK:NO

# TODO: There are loads of Naga and Serpentfolk that are not in one specific subtype
# TODO: There are loads of different constrict abilities
# TODO: Constrict damage
Final Embrace
	SOURCEPAGE:p.101
	TYPE:Combat
	DESC:Your coils are particularly deadly, allowing you to constrict opponents of your size or smaller.
	PRESTAT:2,STR=13,INT=3
	PREMULT:1,[PRERACE:1,Naga,Serpentfolk],[PREABILITY:1,CATEGORY=Special Ability,Constrict]
	PREATT:3
	ABILITY:Special Ability|AUTOMATIC|Constrict|Grab
	BENEFIT:You gain the constrict and grab special attacks. Your constrict attack deals damage equal to your unarmed strike or primary natural weapon melee attack. Further, you can grab and constrict opponents up to your size. &nl; [Normal] You can grab and constrict creatures one size smaller than you.

Final Embrace Horror
	SOURCEPAGE:p.101
	TYPE:Combat
	DESC:Your constricting attack has become stronger and more lethal.
	PRESTAT:2,STR=15,INT=3
	PREMULT:1,[PRERACE:1,Naga,Serpentfolk],[PREABILITY:1,CATEGORY=Special Ability,Constrict]
	PREFEAT:2,Ability Focus (constrict),Final Embrace
	PREATT:6
	BENEFIT:A creature that takes damage from your constrict attack is also shaken until the start of your next turn.

# TODO: Double damage dice
Final Embrace Master
	SOURCEPAGE:p.102
	TYPE:Combat
	DESC:Few creatures can survive the crushing horror of your Final Embrace.
	PRESTAT:2,STR=17,INT=3
	PREMULT:1,[PRERACE:1,Naga,Serpentfolk],[PREABILITY:1,CATEGORY=Special Ability,Constrict]
	PREFEAT:2,Ability Focus (constrict),Final Embrace,Final Embrace Horror
	PREATT:9
	BENEFIT:Double the number of damage dice for your constrict special attack.

# TODO: Could be more efficient with ALL, but is not in the docs?
Fortified Armor Training
	SOURCEPAGE:p.102
	TYPE:Combat
	DESC:You have learned to let your armor bear the brunt of the worst attacks.
	PREPROFWITHSHIELD:1,TYPE.Tower,TYPE.Light,TYPE.Heavy
	PREPROFWITHARMOR:1,TYPE.Light,TYPE.Medium,TYPE.Heavy
	BENEFIT:If an opponent scores a critical hit against you, you can turn the critical hit into a normal hit. If you do, either your armor or your shield gains the broken condition (your choice).

# TODO: Add Gnome fey aspect when it is coded up
Haunted Gnome
	SOURCEPAGE:p.104
	TYPE:Combat
	DESC:You use your gnome magic to take on an eerie illusory appearance.
	PRESTAT:1,CHA=13
	PREABILITY:1,CATEGORY=Special Ability,Gnome Magic ~ Gnome
	PRESKILL:1,Knowledge (arcana)=1
	BENEFIT:You add haunted fey aspect (page 230) to your list of gnome magic spell-like abilities, and you can use this spell-like ability twice per day.

Haunted Gnome Assault
	SOURCEPAGE:p.104
	TYPE:Combat
	DESC:Discharging your disturbing glamer as you strike a telling blow, you haunt a foe with lingering fear.
	PRESTAT:1,CHA=13
	PREABILITY:1,CATEGORY=Special Ability,Gnome Magic ~ Gnome
	PREFEAT:1,Haunted Gnome
	PRESKILL:1,Knowledge (arcana)=3
	BENEFIT:You gain one use of your gnome magic that is independent of your gnome magic spell-like abilities. When you wish to cast a gnome magic spell-like ability for which you have no daily uses remaining, you can expend this independent use to do so. Further, while you are under the effect of haunted fey aspect (page 230), you can discharge that spell as a free action after you hit an opponent with a charge attack or score a critical hit against an opponent. If you do, that opponent becomes shaken for 1 round.

Haunted Gnome Shroud
	SOURCEPAGE:p.104
	TYPE:Combat
	DESC:Your disturbing glamer expands to make your exact location hard to pinpoint.
	PRESTAT:1,CHA=13
	PREABILITY:1,CATEGORY=Special Ability,Gnome Magic ~ Gnome
	PREFEAT:2,Haunted Gnome,Haunted Gnome Assault
	PRESKILL:1,Knowledge (arcana)=6
	BENEFIT:You gain another independent use of your gnome magic like that which Haunted Gnome Assault grants. Further, while you are under the effect of haunted fey aspect, you also have concealment (20%% miss chance) against an opponent until that opponent deals you damage.

# TODO: The selector
Hero's Display
	SOURCEPAGE:p.104
	TYPE:Combat.Performance
	DESC:With a dramatic flourish you display your weapons to the crowd. Onlookers are elated, and your enemies are demoralized.
	PREFEAT:2,Dazzling Display,Weapon Focus
	BENEFIT:When you spend a swift action to make a performance combat check, you present the weapon in which you have Weapon Focus in a triumphant display. You gain a +2 bonus on the performance combat check and make an Intimidate check to demoralize all foes within 30 feet who can see your display.

# TODO: Give bonus to effective druid level
Horse Master
	SOURCEPAGE:p.104
	TYPE:Combat
	DESC:You blend horsemanship skills from disparate traditions into a seamless mounted combat technique.
	PREABILITY:1,CATEGORY=Special Ability,Expert Trainer ~ Cavalier
	PRESKILL:1,Ride=6
	BENEFIT:Use your character level to determine your effective druid level for determining the powers and abilities of your mount. &nl; [Normal] You use your cavalier level to determine your effective druid level for determining the powers and abilities of your mount.

# TODO: Count half all non-monk levels as monk levels.
# TODO: Maybe take all class levels and substract StunningFistMonkLVL (TL - StunningFistMonkLVL)
Mantis Wisdom
	SOURCEPAGE:p.108
	TYPE:Combat
	DESC:Your knowledge of vital areas allows you to land debilitating strikes with precision.
	PREFEAT:3,Improved Unarmed Strike,Mantis Style,Stunning Fist
	PRESKILL:1,Heal=6
	BENEFIT:Treat half your levels in classes other than monk as monk levels for determining effects you can apply to a target of your Stunning Fist per the Stunning Fist monk class feature. You can also use a standard action and a successful melee touch attack to remove any Stunning Fist effect you have applied to a target. While using Mantis Style, you gain a +2 bonus on unarmed attack rolls with which you are using Stunning Fist attempts.

# TODO: Check the chooser. It should require you to choose two feats
Masterful Display
	SOURCEPAGE:p.109
	TYPE:Combat.Performance
	DESC:You craft a special victory performance that causes the crowd to go wild.
	PREFEAT:1,Dazzling Display
	PREFEAT:2,TYPE=Performance
	CHOOSE:FEAT|TYPE=Performance,PC
	BENEFIT:Choose the effects of any two performance feats you have. When you make a performance combat check, you gain the benefits of those two feats, but you only gain a +2 bonus on the performance combat check.
	MULT:YES
	STACK:NO

# TODO: Calculate bonus to unarmed strike damage
Monastic Legacy
	SOURCEPAGE:p.109
	TYPE:Combat
	DESC:Your formal unarmed training continues to bolster your training in other areas.
	PREABILITY:1,CATEGORY=Special Ability,Still Mind
	PREFEAT:1,Improved Unarmed Strike
	BENEFIT:Add half the levels you have in classes other than monk to your monk level to determine your effective monk level for your base unarmed strike damage. This feat does not make levels in classes other than monk count toward any other monk class features.

# TODO: Many, many possibilities of creating magical darkness?
# TODO: Let's keep it at being able to cast darkness and friends
Nightmare Fist
	SOURCEPAGE:p.111
	TYPE:Combat
	DESC:You are even more deadly in magical darkness.
	PREFEAT:1,Improved Unarmed Strike
	PRESKILL:1,Intimidate=1
	PRESPELL:1,Darkness,Deeper Darkness
	BENEFIT:While fighting within an area of magical darkness, you gain a +2 bonus on damage rolls with unarmed strikes, or a +4 bonus against opponents that are shaken, frightened, or panicked. You also gain a +2 morale bonus on Acrobatics and Intimidate checks.

Nightmare Striker
	SOURCEPAGE:p.111
	TYPE:Combat
	DESC:Your faerie fire not only illuminates your foes, but it also shows you their weaknesses.
	PREFEAT:4,Improved Unarmed Strike,Nightmare Fist,Nightmare Weaver,Stunning Fist
	PRESKILL:1,Heal=5
	PRESPELL:1,Faerie Fire
	BENEFIT:While a faerie fire you have cast (not one cast from a spell completion or spell trigger item) outlines an opponent, the DC for that opponent to resist your Stunning Fist attempts increases by +2. If you hit an opponent with a Stunning Fist attempt, and that opponent fails her saving throw, you can render the target shaken for 1d2 rounds plus 1 round for every 5 by which the opponent failed her save.

# This requires the spell Darkness, unline Nightmare Fist
Nightmare Weaver
	SOURCEPAGE:p.112
	TYPE:Combat
	DESC:You can use your ability to create magical darkness to terrorize enemies.
	PREFEAT:2,Improved Unarmed Strike,Nightmare Fist
	PRESKILL:1,Intimidate=2
	PRESPELL:1,Darkness
	BENEFIT:By spending a full-round action to cast darkness, you can also make Intimidate checks to demoralize all foes in the spell's initial area. &nl; [Special]This feat counts as Dazzling Display for purposes of qualifying for Deadly Stroke and Shatter Defenses.

# TODO PREDR on ANY DR.
#Rebuffing Reduction
#	SOURCEPAGE:p.115
#	TYPE:Combat
#	DESC:Your damage reduction can turn the force of blows back on your enemies.
#	PRESTAT:1,STR=13
#	PREFEAT:2,Improved Bull Rush, Power Attack
#	PREATT:1
#	BENEFIT:Whenever an opponent that is adjacent to you fails to penetrate your DR with a melee attack, you can spend an immediate action to attempt a bull rush combat maneuver against that opponent. If you succeed, you cannot move with the opponent. &nl; [Normal] A bull rush combat maneuver is a standard action.

# PS: Depends on Oracle's Mystery instead of a revelation class feature. This works the same as Extra Revelation
# We'll leave the chooser. It's too difficult
Revelation Strike
	SOURCEPAGE:p.116
	TYPE:Combat
	DESC:Your unarmed strike brings a revelation down upon your foe.
	PREABILITY:1,CATEGORY=Special Ability,Oracle's Mystery
	PREFEAT:1,Improved Unarmed Strike.
	BENEFIT:When you gain this feat, choose one revelation that you can use to affect no more than one opponent. If you make a successful unarmed strike against an opponent, in addition to dealing your unarmed strike damage, you can use a swift action to deliver the effects of the chosen revelation to that opponent. Doing so provokes no attacks of opportunity. &nl; [Special]You can take this feat multiple times. Each time you take it, you apply it to a different qualifying revelation.

# Leave the chooser. It's too complex.
School Strike
	SOURCEPAGE:p.116
	TYPE:Combat
	DESC:You focus the secrets of your school of wizardry into your unarmed strike.
	PREABILITY:1,CATEGORY=Special Ability,TYPE.ArcaneSchool
	PREFEAT:1,Improved Unarmed Strike
	BENEFIT:When you gain this feat, choose one arcane school power that you can use to affect no more than one opponent. If you make a successful unarmed strike against an opponent, in addition to dealing your unarmed strike damage, you can use a swift action to deliver the effects of the chosen school power to that opponent. Doing so provokes no attacks of opportunity. &nl; [Special]You can take this feat multiple times. Each time you take it, you apply it to a different qualifying arcane school power.

# TODO: Implement PRETEXT. This can be a spell, but can also be a spell-like ability or an extraordinary or supernatural ability
Shapeshifter Foil
	SOURCEPAGE:p.118
	TYPE:General
	DESC:Your command of shapeshifting magic can disrupt similar effects in others.
	PRESKILL:1,Knowledge (arcana)=5,Knowledge (nature)=5
	PRETEXT:Ability to use any polymorph effect
	BENEFIT:A creature you deal damage to has difficulty using or maintaining polymorph effects until the end your next turn. To use a polymorph effect it must make a concentration check (DC 15 + twice the level of the effect). If you deal damage to an opponent under a polymorph effect, that opponent must succeed at a Will saving throw (DC 10 + 1/2 your character level + your Wisdom modifier) or be forced back to its original form. If you score a critical hit against such an opponent, no saving throw is allowed.

# TODO: Changes when favored enemy is selected by combining druid level + ranger level. Isn't this hard-coded into the ranger class?
#
#Shapeshifting Hunter
#	SOURCEPAGE:p.118
#	TYPE:General
#	DESC:You blend your knowledge of foes and your shapeshifting abilities together.
#	PREABILITY:1,CATEGORY=Special Ability,TYPE=FavoredEnemy
#	PREABILITY:1,CATEGORY=Special Ability,Wild Shape
#	BONUS:VAR|WildShapeTimes|classlevel("Ranger")
#	BENEFIT:Your levels of druid stack with your ranger levels for determining when you select your next favored enemy. Also, your ranger levels stack with your druid levels in determining the number of times per day you can use your wild shape class feature, up to a maximum of eight times per day (currently %1).|WildShapeTimes

# TODO: The user must choose one deed when taking this feat. how to do?
Signature Deed
	SOURCEPAGE:p.119
	TYPE:Grit
	DESC:You are known for performing a particular deed, and can perform it with greater ease.
	PREABILITY:1,CATEGORY=Special Ability,Grit
	PRECLASS:1,Gunslinger=11
	BENEFIT:Pick a deed that you have access to and that you must spend grit to perform. You can perform this deed for 1 fewer grit point (minimum 0). If the amount of grit needed to perform the deed is reduced to 0, you can perform this deed for the normal action cost as long as you have at least 1 grit point.

# TODO: How to choose a vehicle?
Skilled Driver
	SOURCEPAGE:p.119
	TYPE:General
	DESC:Choose a type a type [sic] of vehicle (either air, land, or water). You are more skilled when driving that vehicle.
	BENEFIT:You gain a +4 bonus on driving checks with your chosen vehicle.

